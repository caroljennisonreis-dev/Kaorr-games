<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="monetag" content="83997c58f066c15d03add13b60a406e8">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎮</text></svg>">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  
  <title>🎮 Kaorr Games</title>
  <style>
    :root {
      --primary-color: #FFD700;
      --background-dark: #16222A;
      --background-light: #3A6073;
      --text-color: #fff;
      --dark-grey: #4a4a4a;
      --blue-action: #007bff;
      --pacman-blue: #00FFFF;
    }
    body {
      margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-image: linear-gradient(to bottom, var(--background-dark), var(--background-light));
      background-attachment: fixed; color: var(--text-color); text-align: center;
    }
    header {
      padding: 20px; background: rgba(0,0,0,0.8);
      font-family: 'Press Start 2P', cursive;
      border-bottom: 2px solid var(--primary-color);
    }
    .header-content { font-size: clamp(18px, 4vw, 22px); }
    .subtitle {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px; font-weight: bold; color: var(--primary-color);
        margin: 8px 0 0 0; text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
        letter-spacing: 0.5px;
    }
    .update-notice {
        font-family: 'Press Start 2P', cursive; font-size: 12px;
        color: var(--pacman-blue); margin: 12px 0 0 0;
        text-shadow: 0 0 4px var(--pacman-blue), 0 0 8px var(--pacman-blue);
        animation: pulse 2.5s infinite ease-in-out;
    }
    @keyframes pulse { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } }
    main {
      padding: 20px;
    }
    .player-actions-bar {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 30px;
        width: 100%;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }
    .player-actions-bar button {
        flex: 1; padding: 12px 10px; font-size: 14px;
        font-weight: bold; font-family: 'Press Start 2P', cursive;
        border-radius: 10px; cursor: pointer; transition: all 0.3s ease;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    }
    #daily-vip-button {
        border: 2px solid var(--primary-color); background: linear-gradient(45deg, #ffc107, #ffeb3b);
        color: #000; box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    }
    #council-button {
        border: 2px solid var(--pacman-blue); background: linear-gradient(45deg, #007bff, #00d4ff);
        color: white; box-shadow: 0 4px 15px rgba(0, 212, 255, 0.4);
    }
    #daily-vip-button:hover:not(:disabled), #council-button:hover:not(:disabled) { transform: scale(1.05); }
    #daily-vip-button:disabled { background: var(--dark-grey); border-color: #777; color: #aaa; cursor: not-allowed; box-shadow: none; }
    
    /* --- FILTROS --- */
    #filter-bar {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin-bottom: 30px;
    }
    .filter-button {
        padding: 8px 15px;
        font-size: 14px;
        font-weight: bold;
        border: 2px solid var(--primary-color);
        background: transparent;
        color: var(--primary-color);
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .filter-button.active, .filter-button:hover {
        background: var(--primary-color);
        color: #000;
        box-shadow: 0 0 10px var(--primary-color);
    }
    
    #game-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }
    .game-card {
        background: rgba(0,0,0,0.5); border-radius: 10px; overflow: hidden;
        cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent;
        position: relative; display: flex; flex-direction: column;
    }
    .game-card:hover { transform: scale(1.05); border-color: var(--primary-color); box-shadow: 0 0 20px var(--primary-color); }
    .game-card-image-container { width: 100%; padding-top: 75%; position: relative; background-color: #000; }
    .game-card img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
    .game-card-title {
        padding: 10px; font-weight: bold; font-size: 16px;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: auto;
    }
    .game-card-icon {
        position: absolute;
        top: 8px;
        background: rgba(0,0,0,0.7);
        padding: 5px;
        border-radius: 50%;
        font-size: 14px;
        line-height: 1;
        cursor: pointer;
        transition: transform 0.2s ease;
    }
    .game-card-icon:hover { transform: scale(1.2); }
    .vip-icon { right: 8px; }
    .favorite-icon { left: 8px; color: #555; }
    .favorite-icon.is-favorite { color: var(--primary-color); text-shadow: 0 0 5px var(--primary-color); }
    
    footer { padding: 25px 15px; background: rgba(0,0,0,0.8); font-size: 14px; border-top: 2px solid var(--primary-color); }
    
    .modal-overlay { /* Estilos dos modais aqui */ }
    /* ... (resto do seu CSS para modais, etc.) ... */
  </style>
</head>
<body>

  <script>
    const CONFIG = {
        // ... (suas configurações)
        ALL_GAMES: {
            pacman: { 
                title: 'Pac-Man', 
                src: 'https://funhtml5games.com?embed=pacman', 
                image: 'https://i.ibb.co/LhXjv1TF/cartoon-artistic-image-draw-animated-260nw-2531832685.jpg',
                category: 'Clássico',
                isVip: false 
            },
            mazeblox: { 
                title: 'Mazeblox', 
                src: 'https://funhtml5games.com?embed=mazeblox',
                image: 'https://i.ibb.co/4gtS9QST/images.jpg',
                category: 'Puzzle',
                isVip: false
            },
            omnomrun: { 
                title: 'Om Nom Run', 
                src: 'https://play.famobi.com/om-nom-run',
                image: 'https://i.ibb.co/3mVvnVbn/91-Wkd9n-OACL.png',
                category: 'Aventura',
                isVip: false
            },
            giantrush: { 
                title: 'Giant Rush', 
                src: 'https://play.famobi.com/giant-rush',
                image: 'https://i.ibb.co/49Rbvzg/7086518e78b57e20417f0ab7e13a65fdf04d80ebff466d505a0a998d817598d7.jpg',
                category: 'Ação',
                isVip: false
            },
            westernsniper: { 
                title: 'Western Sniper', 
                src: 'https://play.famobi.com/western-sniper',
                image: 'https://i.ibb.co/R4y1bb4W/become-the-ultimate-bandit-hunter-with-a-sniper-rifle.jpg',
                category: 'Ação',
                isVip: true
            },
            outcome: { 
                title: 'Outcome', 
                src: 'https://play.famobi.com/outcome',
                image: 'https://i.ibb.co/VWzvRZtP/virtual-reality-headset-controllers-gaming-260nw-2065808501.jpg',
                category: 'Aventura',
                isVip: true
            },
            speedmaster: { 
                title: 'Speed Master', 
                src: 'https://play.famobi.com/speed-master',
                image: 'https://i.ibb.co/4ns87HDG/speed-master.jpg',
                category: 'Corrida',
                isVip: true
            },
            mestredogatilho: { 
                title: 'Mestre do Gatilho', 
                src: 'https://play.famobi.com/gun-spin',
                image: 'https://i.ibb.co/Ps3SjLgH/riflerange-galeria-de-tiro-homem-com-rifle-armas-e-ilustracao-de-rifle-169479-1503.jpg',
                category: 'Ação',
                isVip: true
            },
            dantheman: { 
                title: 'Dan The Man', 
                src: 'https://html5.gamedistribution.com/3d11dfed72a04e00ae9a43ab3fd49bd6/?gd_sdk_referrer_url=https://kaorr-games.vercel.app/',
                image: 'https://i.ibb.co/BKTZfKJJ/d2c4cecf303d0c120100d5422f42d3fc.jpg',
                category: 'Aventura',
                isVip: true
            }
        }
    };

    const state = {
        activeFilter: 'Todos',
        favorites: [],
        // ... (resto do seu 'state')
    };

    const dom = {
        filterBar: document.getElementById('filter-bar'),
        // ... (resto do seu 'dom')
    };

    function init() {
        // Carrega favoritos salvos
        state.favorites = JSON.parse(localStorage.getItem('kaorrFavorites')) || [];

        // ... (resto do seu 'init')
        
        renderFilterBar();
        renderGameGrid();
    }

    function renderFilterBar() {
        const categories = ['Todos', '⭐ Favoritos', ...new Set(Object.values(CONFIG.ALL_GAMES).map(game => game.category))];
        
        dom.filterBar.innerHTML = '';
        categories.forEach(category => {
            const button = document.createElement('button');
            button.className = 'filter-button';
            if (category === state.activeFilter) {
                button.classList.add('active');
            }
            button.textContent = category;
            button.onclick = () => {
                state.activeFilter = category;
                renderFilterBar();
                renderGameGrid();
            };
            dom.filterBar.appendChild(button);
        });
    }

    function renderGameGrid() {
        const grid = dom.gameGrid;
        grid.innerHTML = '';

        let filteredGames = Object.entries(CONFIG.ALL_GAMES);

        if (state.activeFilter === '⭐ Favoritos') {
            filteredGames = filteredGames.filter(([gameKey]) => state.favorites.includes(gameKey));
        } else if (state.activeFilter !== 'Todos') {
            filteredGames = filteredGames.filter(([, game]) => game.category === state.activeFilter);
        }

        filteredGames.forEach(([gameKey, game]) => {
            const card = document.createElement('div');
            card.className = 'game-card';
            
            const isFavorite = state.favorites.includes(gameKey);
            
            let vipIconHTML = '';
            // ... (lógica do ícone VIP)
            
            card.innerHTML = `
                <div class="game-card-image-container">
                    <img src="${game.image}" alt="${game.title}">
                </div>
                <div class="game-card-title">${game.title}</div>
                <div class="game-card-icon favorite-icon ${isFavorite ? 'is-favorite' : ''}" onclick="event.stopPropagation(); toggleFavorite('${gameKey}')">⭐</div>
                ${vipIconHTML}
            `;
            
            card.querySelector('.game-card-image-container').onclick = () => openGamePlayer(gameKey);
            grid.appendChild(card);
        });
    }

    function toggleFavorite(gameKey) {
        if (state.favorites.includes(gameKey)) {
            state.favorites = state.favorites.filter(id => id !== gameKey);
        } else {
            state.favorites.push(gameKey);
        }
        localStorage.setItem('kaorrFavorites', JSON.stringify(state.favorites));
        renderGameGrid(); // Redesenha a grade para atualizar o ícone
    }

    // ... (resto de todas as suas funções: openGamePlayer, etc.)

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
